# TOP系列 #

## 命令格式 ##

`top [参数]`

## 命令功能 ##

显示当前系统正在执行的进程的相关信息，包括进程 ID、内存占用率、CPU 占用率等

## 命令参数 ##

| 参数 | 效果   | 示例   |
|----   | ------ | ------ |
| `-d <seconds>` | 设置更新间隔时间（秒） | 例如：`top -d 2` 每 2 秒更新一次 |
| `-u <username>` | 显示指定用户的进程 | 例如：`top -u ubuntu` 只显示用户 `ubuntu` 的进程 |
| `-p <pid>` | 只显示指定 PID 的进程 | 例如：`top -p 1234` 只显示进程 ID 为 1234 的进程 |
| `-n <number>` | 指定显示的更新次数，然后退出 | 例如：`top -n 5` 显示 5 次更新后退出 |
| `-b`            | 以批处理模式运行，适合用于重定向输出到文件 | 例如：`top -b -n 1 > output.txt` 将一次输出保存到文件 |
| `-c` | 显示完整命令行，而不仅仅是进程名称 |  |
| `-H` | 显示线程而不仅仅是进程 |  |

## 结果解读 ##

命令：`top`

输出示例

|   PID | USER   | PR   | NI   | VIRT    | RES    | SHR   | S    | %CPU | %MEM | TIME+     | COMMAND         |
| ----: | ------ | ---- | ---- | ------- | ------ | ----- | ---- | ---- | ---- | --------- | --------------- |
| 15916 | root   | 20   | 0    | 5283616 | 150744 | 13540 | S    | 1.7  | 0.9  | 533:13.72 | wsssr_defence_s |
| 22708 | ubuntu | 20   | 0    | 113456  | 4008   | 1276  | S    | 0.3  | 0.0  | 16:42.40  | bash            |
|     1 | root   | 20   | 0    | 9919084 | 234840 | 6660  | S    | 0.3  | 1.4  | 63:31.79  | java            |
|     2 | root   | 20   | 0    | 43960   | 3852   | 2016  | S    | 0.0  | 0.0  | 0:00.26   | systemd         |

- PID：进程 ID，唯一标识一个进程。
- USER：运行该进程的用户。
- PR：进程的优先级（priority），数字越小优先级越高。
- NI：进程的 nice 值，影响进程优先级，值越小优先级越高。
- VIRT：虚拟内存使用量，包括所有使用的内存（包括交换区）。
- RES：常驻内存使用量，实际使用的物理内存量。
- SHR：共享内存量，其他进程也在使用的内存。
- S：进程状态，如：
  - R：运行中
  - S：睡眠中
  - Z：僵尸进程
- %CPU：该进程使用的 CPU 百分比。
- %MEM：该进程使用的物理内存百分比。
- TIME+：进程使用的 CPU 时间总和。
- COMMAND：进程的名称或命令行。

[使用实例](https://www.cnblogs.com/peida/archive/2012/12/24/2831353.html)
